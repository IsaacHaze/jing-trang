#summary Coding guidelines.

= Formatting =

Indent by two spaces.

Put spaces around binary operators:
{{{
x = y + z;
if (foo == null) {
  ...
}
}}}

Opening braces are on the same line as the keyword, and closing braces are on a line by themselves:

{{{
if (foo()) {
  bar();
  baz();
}
else {
  baz();
  bar();
}
try {
  foo();
}
catch (FooException e) {
}  
}}}

except for do/while, where the closing brace is on the same line as the while.

{{{
do {
  foo();
} while (bar);
}}}

Don't parenthesize return:

{{{
return foo.bar();
}}}

One-line if/else/for clauses typically aren't enclosed in braces:

{{{
if (foo)
  bar();
}}}

(but you can use braces if you prefer).

= Collections =

Jing was originally written to require only Java 1.1, so did not use the Java 1.2 Collections library.  However, this restriction is no longer necessary, so new code for Jing should use the 1.2 Collections.  This implies

 * use HashMap not Hashtable (Hashtable has the overhead of synchronization)
 * use ArrayList not Vector (Vector has the overhead of synchronization)
 * use Iterator not Enumeration

Each package should consistently be either old (1.1) style or new (1.2) style.

Trang was written from the start to use Java 1.2 collections.

= Generics =

Code used in modules that are used only in Trang can and should use generics.  Code used in Jing should not use generics. (This may be changed in the future.)

= Subversion =

Make sure new files get created with the right properties.  In particular, Java files should be created with `svn:eol-style=native`, so that they get checked out with native line endings on all platforms.  You can do this by finding your SVN config file and adding

{{{
[miscellany]
enable-auto-props = yes

[auto-props]
*.java = svn:eol-style=native
*.xml = svn:eol-style=native; svn:mime-type=application/xml
*.rng = svn:eol-style=native; svn:mime-type=application/xml
*.xsl = svn:eol-style=native; svn:mime-type=application/xslt+xml
*.rnc = svn:eol-style=native
}}}

On Windows Vista, my Subversion config file is in `C:\Users\jjc\AppData\Roaming\Subversion\config`.




